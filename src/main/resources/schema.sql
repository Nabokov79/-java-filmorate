CREATE TABLE IF NOT EXISTS MPA
(
    MPA_ID INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    NAME_MPA   varchar
);

CREATE TABLE IF NOT EXISTS FILMS
(
    FILM_ID      BIGINT PRIMARY KEY AUTO_INCREMENT,
    NAME_FILM    varchar NOT NULL,
    RELEASE_DATE date NOT NULL,
    DESCRIPTION  varchar(200) NOT NULL,
    DURATION     integer NOT NULL,
    MPA_ID       INTEGER REFERENCES MPA(MPA_ID)
);

CREATE TABLE IF NOT EXISTS USERS
(
    USER_ID    BIGINT PRIMARY KEY AUTO_INCREMENT,
    EMAIL      varchar NOT NULL,
    NAME_USER  varchar NOT NULL,
    LOGIN_USER varchar NOT NULL,
    BIRTHDAY   date NOT NULL
);

CREATE TABLE IF NOT EXISTS LIKES
(
    LIKE_ID BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    FILM_ID BIGINT REFERENCES FILMS (FILM_ID),
    USER_ID BIGINT REFERENCES USERS (USER_ID)

);

CREATE TABLE IF NOT EXISTS GENRE
(
    GENRE_ID INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    NAME_GENRE    varchar
);

CREATE TABLE IF NOT EXISTS FILMS_GENRE
(
    FILM_GENRE_ID INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    GENRE_ID      INTEGER REFERENCES GENRE (GENRE_ID),
    FILM_ID       BIGINT REFERENCES FILMS (FILM_ID)
);



CREATE TABLE IF NOT EXISTS FRIENDS
(
    FRIENDS_ID INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    USER_ID    BIGINT REFERENCES USERS (USER_ID),
    FRIEND_ID  BIGINT REFERENCES USERS (USER_ID)
);